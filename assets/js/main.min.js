document.addEventListener("DOMContentLoaded",async function(){setTimeout(function(){document.body.classList.add("Loaded")},0);let e=1,t=document.getElementById("ScrollDown");(()=>{for(let e=1;e<=60;e++){let t=e.toString().padStart(2,"0"),r=new Image;r.src=`assets/img/hero/ScrollDown/ScrollDown-${t}.svg`}})();let r=performance.now(),n=l=>{if(l-r>=33.333333333333336){e=e%60+1;let i=e.toString().padStart(2,"0");t.src=`assets/img/hero/ScrollDown/ScrollDown-${i}.svg`,r=l}requestAnimationFrame(n)};requestAnimationFrame(n);let l=new URLSearchParams(window.location.search),i=l.get("lang")||"en",o={};try{let s=await fetch("assets/json/translations.json");if(!s.ok)throw Error(`HTTP error! Status: ${s.status}`);o=await s.json(),document.querySelectorAll("*").forEach(e=>{if(1===e.childNodes.length&&3===e.childNodes[0].nodeType){let t=e.textContent;t.includes("{{")&&(e.textContent=t.replace(/{{(.*?)}}/g,(e,t)=>o[t=t.trim()]&&o[t][i]?o[t][i]:`{{${t}}}`))}})}catch(a){console.error("❌ Error fetching translations:",a)}let c=document.documentElement;"fa"===i?(c.setAttribute("lang","fa"),c.setAttribute("dir","rtl")):(c.setAttribute("lang","en"),c.setAttribute("dir","ltr")),document.querySelectorAll(".LanguageSwitcher a").forEach(e=>{let t=new URL(e.href).searchParams.get("lang");t===i?(e.classList.add("Current"),e.setAttribute("aria-current","true")):(e.classList.remove("Current"),e.setAttribute("aria-current","false"))});let u=document.querySelectorAll(".LightSwitch input");function d(e){let t=document.documentElement.getAttribute("lights");if(e!==t){if("auto"===e){let r=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("lights",r?"off":"on")}else document.documentElement.setAttribute("lights",e);localStorage.setItem("lights",e)}}d(localStorage.getItem("lights")||"auto"),u.forEach(e=>{e.addEventListener("change",function(){this.checked&&d(this.value)})}),setTimeout(function e(){let t=document.querySelectorAll("spline-viewer");0!==t.length&&t.forEach(e=>{let t=0;!function r(){if(!(t>=10)){if(e.shadowRoot){let n=e.shadowRoot.querySelector("#logo");n?n.remove():(t++,setTimeout(r,500))}else t++,setTimeout(r,500)}}()})},500),!function e(){let t=document.querySelector(".CopyRight span");if(t){let r=new Date().getFullYear();t.textContent=r}}();let h=!1;function f(){h||(requestAnimationFrame(()=>{let e=document.querySelector("#Hero");if(!e)return;let t=e.offsetHeight,r=window.scrollY,n=Math.floor(100*Math.min(r/t,1)),l=Math.max((n-0)/100,0);e.style.transform=`scale(${1-.001*n}) translateY(${.75*n}px) rotateX(${.1*n}deg)`,e.style.opacity=1-l,e.style.filter=`blur(${20*l}px)`,h=!1}),h=!0)}window.addEventListener("scroll",f),f();let g=document.querySelector("#Hero .Status"),$=new Date,y=new Date($);y.setDate($.getDate()+15);let p=y.toLocaleString("default",{month:"long"}),m=y.getFullYear();y.getDate()>15&&(y.setMonth(y.getMonth()+1),y.setDate(1),p=y.toLocaleString("default",{month:"long"}),m=y.getFullYear()),g.querySelector("strong").textContent=`${p} ${m}`;let v=document.querySelector("#Hero .Developer .Magic"),S=document.querySelector("#Hero .Developer .After"),E=document.querySelector("#Hero .Developer .WebDev"),L=!1;v.addEventListener("mousedown",()=>{L=!0,document.body.style.userSelect="none"}),window.addEventListener("mouseup",()=>{L=!1,document.body.style.userSelect=""}),window.addEventListener("mousemove",e=>{if(!L)return;let t=E.getBoundingClientRect(),r=e.clientX-t.left,n=t.width;r<-4&&(r=-4),r>n-8&&(r=n-8);let l=10-r/10;v.style.left=`${r}px`,v.style.top=`${l}px`,S.style.width=`${r}px`});let _=document.querySelectorAll("#Hero .Designer .ColorSets li"),w=document.querySelector("#Hero .Designer h2");async function x(){let e=await new Promise((e,t)=>{if(window.Matter)return e(window.Matter);let r=document.createElement("script");r.src="../assets/js/matter.min.js",r.onload=()=>e(window.Matter),r.onerror=t,document.head.appendChild(r)}),{Engine:t,Render:r,Runner:n,Bodies:l,World:i,Mouse:o,MouseConstraint:s}=e,a=document.querySelector("#Services .DEV .Wrapper");if(!a)return;a.style.position="relative";let c=t.create(),u=c.world,d=r.create({element:a,engine:c,options:{width:a.clientWidth,height:a.clientHeight,wireframes:!1,background:"transparent",pixelRatio:window.devicePixelRatio,enabled:!1}});r.run(d);let h=n.create();n.run(h,c),d.canvas.addEventListener("wheel",e=>{e.stopPropagation()},{passive:!0});let f,g,$,y;function p(){let e=a.clientWidth,t=a.clientHeight;f&&i.remove(u,[f,g,$,y]),f=l.rectangle(e/2,t-5,e,10,{isStatic:!0,render:{visible:!1}}),g=l.rectangle(5,t/2,10,t,{isStatic:!0,render:{visible:!1}}),$=l.rectangle(e-5,t/2,10,t,{isStatic:!0,render:{visible:!1}}),y=l.rectangle(e/2,5,e,10,{isStatic:!0,render:{visible:!1}}),i.add(u,[f,g,$,y])}setTimeout(p,50);let m=a.querySelectorAll(".Pill"),v=[];function S(){let t=a.clientWidth,r=a.clientHeight;d.bounds.max.x=t,d.bounds.max.y=r,d.options.width=t,d.options.height=r,d.canvas.width=t,d.canvas.height=r,e.Render.setPixelRatio(d,window.devicePixelRatio),p(),function t(){let r=a.clientWidth,n=a.clientHeight;v.forEach(({body:t})=>{e.Body.setPosition(t,{x:Math.min(Math.max(t.position.x,20),r-20),y:Math.min(Math.max(t.position.y,20),n-20)})})}()}m.forEach(e=>{let t=e.getBoundingClientRect(),r=a.getBoundingClientRect(),n=t.width,o=t.height,s=l.rectangle(t.left-r.left+t.width/2,t.top-r.top+t.height/2,t.width,t.height,{restitution:.32,friction:.1,density:.02,frictionAir:.02,chamfer:{radius:Math.min(t.width,t.height)/2},render:{visible:!1}});i.add(u,s),v.push({element:e,body:s,initialWidth:n,initialHeight:o})});let E;window.addEventListener("resize",()=>{clearTimeout(E),E=setTimeout(S,200)});let L=o.create(d.canvas),_=s.create(c,{mouse:L,constraint:{stiffness:.2,render:{visible:!1}}});i.add(u,_),d.mouse=L,a.addEventListener("mouseleave",()=>{_.body&&(_.body=null),_.constraint.pointA=null,_.constraint.bodyB=null,_.constraint.pointB=null}),c.enableSleeping=!0;let w=0;!function e(){++w%2==0&&v.forEach(({element:e,body:t,initialWidth:r,initialHeight:n})=>{e.style.position="absolute",e.style.left=`${t.position.x-r/2}px`,e.style.top=`${t.position.y-n/2}px`,e.style.transform=`rotate(${t.angle}rad)`}),requestAnimationFrame(e)}(),L.element.removeEventListener("wheel",L.mousewheel)}_.forEach(e=>{e.addEventListener("click",function(){let e=this.classList.contains("Selected");if(e){this.classList.remove("Selected"),w.classList.forEach(e=>{e.startsWith("Color")&&w.classList.remove(e)});return}w.style.opacity="0.5",setTimeout(()=>{w.classList.forEach(e=>{e.startsWith("Color")&&w.classList.remove(e)}),w.classList.add(...this.classList),w.style.opacity="1"},500),_.forEach(e=>e.classList.remove("Selected")),this.classList.add("Selected")})}),!function e(){let t=document.querySelector("#Services .DEV .Wrapper");if(!t)return;let r=!1;function n(){if(r)return;let e=t.getBoundingClientRect(),l=e.top+e.height/2,i=window.innerHeight/2,o=.5*window.innerHeight;Math.abs(l-i)<o&&(x(),r=!0,window.removeEventListener("scroll",n))}let l=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!r&&(window.addEventListener("scroll",n),n())})},{threshold:.5});l.observe(t)}();let q=document.querySelector(".Music audio"),b=0,C=q.querySelectorAll("source"),A=Array.from(C).map(e=>e.src);function M(){let e=q.querySelectorAll("source");e.forEach((e,t)=>{e.src=t===b?A[t]:""}),q.load()}async function H(){try{await import("../js/jsmediatags.min.js");let e=window.jsmediatags,t=A[b];e.read(t,{onSuccess:function(e){let t=e.tags.picture,r=e.tags.title,n=e.tags.artist;if(t){let l=new Uint8Array(t.data),i="";l.forEach(e=>{i+=String.fromCharCode(e)});let o=window.btoa(i),s="data:"+t.format+";base64,"+o;document.querySelectorAll(".Music .ArtWork img").forEach(e=>{e.src=s})}let a=document.querySelector(".Music strong");a&&(a.textContent=r||"Unknown Title");let c=document.querySelector(".Music p");c&&(c.textContent=n||"Unknown Artist"),function e(){let t=Math.floor(q.duration),r=isNaN(t)?0:t,n=r%60;B.textContent=0===r?"0:00":`-${Math.floor(r/60)}:${n<10?"0"+n:n}`}()},onError:function(e){console.error("⚠️ Error reading Music MetaData:",e)}})}catch(r){console.error("❌ Failed to load jsMediaTags:",r)}}let D=document.querySelector(".Benex.Music .Wrapper .ProgressBar"),P=document.querySelector(".Benex.Music .Wrapper .Current"),B=document.querySelector(".Benex.Music .Wrapper .Duration");q.addEventListener("timeupdate",function(){let e=isNaN(q.currentTime/q.duration*100)?0:q.currentTime/q.duration*100;D.value=e,D.style.setProperty("--value",D.value),D.style.setProperty("--min",D.min||"0"),D.style.setProperty("--max",D.max||"100");let t=Math.floor(q.currentTime),r=Math.floor(q.duration),n=t%60,l=Math.floor(r-t),i=l%60;P.textContent=`${Math.floor(t/60)}:${n<10?"0"+n:n}`,B.textContent=0===l?"0:00":`-${Math.floor(l/60)}:${i<10?"0"+i:i}`}),D.addEventListener("input",function(){let e=D.value/100*q.duration;q.currentTime=e,D.style.setProperty("--value",D.value)});let R=document.querySelector(".Music .Controls .Play"),k=document.querySelector(".Music .Controls .Pause");function W(){q.paused?(R.classList.remove("Hide"),k.classList.add("Hide")):(k.classList.remove("Hide"),R.classList.add("Hide"))}W(),R.addEventListener("click",function(){q.play(),W()}),k.addEventListener("click",function(){q.pause(),W()});let j=document.querySelector(".Music .Controls .Prev"),N=document.querySelector(".Music .Controls .Next");j.addEventListener("click",function(){let e=!q.paused;b=(b-1+A.length)%A.length,M(),H(),e&&q.play(),W()}),N.addEventListener("click",function(){let e=!q.paused;b=(b+1)%A.length,M(),H(),e&&q.play(),W()}),q.addEventListener("ended",function(){b=(b+1)%A.length,M(),H(),q.play(),W()}),M(),H();let T=document.querySelector(".PhotoSlider"),I=T.querySelectorAll(".Photo"),Y=document.querySelectorAll(".Nav .Item"),F=document.querySelector(".Nav .Indicator"),z=0,U=(e,t)=>{I.forEach(e=>{e.classList.remove("visible"),"video"===e.tagName.toLowerCase()&&e.pause()});let r=I[t[e]];r.classList.add("visible"),"video"===r.tagName.toLowerCase()&&r.play()};Y.forEach((e,t)=>{e.addEventListener("click",function(){Y.forEach(e=>e.classList.remove("Active")),e.classList.add("Active");let t=e.classList[1];V(t);let r=e.getBoundingClientRect(),n=e.parentElement.getBoundingClientRect(),l=r.left-n.left;function i(){let t=e.getBoundingClientRect(),r=e.parentElement.getBoundingClientRect(),n=t.left-r.left;F.style.width=`${e.clientWidth}px`,F.style.height=`${e.clientHeight}px`,F.style.left=`${n}px`}F.style.width=`${e.clientWidth}px`,F.style.height=`${e.clientHeight}px`,F.style.left=`${l}px`,i(),window.addEventListener("resize",i)})});let V=e=>{let t=[];I.forEach((r,n)=>{r.classList.contains(e)&&t.push(n)}),t.length>0&&U(z=0,t)};I.forEach(e=>{e.addEventListener("click",function(){let e=document.querySelector(".Nav .Item.Active")?.classList[1],t=[];I.forEach((r,n)=>{r.classList.contains(e)&&t.push(n)}),U(z=(z+1)%t.length,t)})}),Y.length>0&&Y[0].click();let X,O=()=>{X=setInterval(()=>{let e=document.querySelector(".Nav .Item.Active")?.classList[1],t=[];I.forEach((r,n)=>{r.classList.contains(e)&&t.push(n)}),U(z=(z+1)%t.length,t)},3200)},G=()=>{clearInterval(X)};O();let J=document.querySelector(".Benex.Photos");J.addEventListener("mouseenter",function(){G()}),J.addEventListener("mouseleave",function(){O()})});