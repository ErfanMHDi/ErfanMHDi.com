document.addEventListener("DOMContentLoaded",async function(){setTimeout(function(){document.body.classList.add("Loaded")},1500);let e=1,t=document.getElementById("ScrollDown");(()=>{for(let e=1;e<=60;e++){let t=e.toString().padStart(2,"0"),r=new Image;r.src=`assets/img/hero/ScrollDown/ScrollDown-${t}.svg`}})();let r=performance.now(),l=n=>{if(n-r>=33.333333333333336){e=e%60+1;let i=e.toString().padStart(2,"0");t.src=`assets/img/hero/ScrollDown/ScrollDown-${i}.svg`,r=n}requestAnimationFrame(l)};requestAnimationFrame(l);let n=new URLSearchParams(window.location.search),i=n.get("lang")||"en",o={};try{let s=await fetch("assets/json/translations.json");if(!s.ok)throw Error(`HTTP error! Status: ${s.status}`);o=await s.json(),document.querySelectorAll("*").forEach(e=>{if(1===e.childNodes.length&&3===e.childNodes[0].nodeType){let t=e.textContent;t.includes("{{")&&(e.textContent=t.replace(/{{(.*?)}}/g,(e,t)=>o[t=t.trim()]&&o[t][i]?o[t][i]:`{{${t}}}`))}})}catch(a){console.error("❌ Error fetching translations:",a)}let c=document.documentElement;"fa"===i?(c.setAttribute("lang","fa"),c.setAttribute("dir","rtl")):(c.setAttribute("lang","en"),c.setAttribute("dir","ltr")),document.querySelectorAll(".LanguageSwitcher a").forEach(e=>{let t=new URL(e.href).searchParams.get("lang");t===i?(e.classList.add("Current"),e.setAttribute("aria-current","true")):(e.classList.remove("Current"),e.setAttribute("aria-current","false"))});let u=document.querySelectorAll(".LightSwitch input");function d(e){let t=document.documentElement.getAttribute("lights");if(e!==t){if("auto"===e){let r=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("lights",r?"off":"on")}else document.documentElement.setAttribute("lights",e);localStorage.setItem("lights",e)}}d(localStorage.getItem("lights")||"auto"),u.forEach(e=>{e.addEventListener("change",function(){this.checked&&d(this.value)})}),setTimeout(function e(){let t=document.querySelectorAll("spline-viewer");0!==t.length&&t.forEach(e=>{let t=0;!function r(){if(!(t>=10)){if(e.shadowRoot){let l=e.shadowRoot.querySelector("#logo");l?l.remove():(t++,setTimeout(r,500))}else t++,setTimeout(r,500)}}()})},500),!function e(){let t=document.querySelector(".CopyRight span");if(t){let r=new Date().getFullYear();t.textContent=r}}();let h=!1;function f(){h||(requestAnimationFrame(()=>{let e=document.querySelector("#Hero");if(!e)return;let t=e.offsetHeight,r=window.scrollY,l=Math.floor(100*Math.min(r/t,1)),n=Math.max((l-0)/100,0);e.style.transform=`scale(${1-.001*l}) translateY(${.75*l}px) rotateX(${.1*l}deg)`,e.style.opacity=1-n,e.style.filter=`blur(${20*n}px)`,h=!1}),h=!0)}window.addEventListener("scroll",f),f();let g=document.querySelector("#Hero .Status"),$=new Date,y=new Date($);y.setDate($.getDate()+15);let p=y.toLocaleString("default",{month:"long"}),v=y.getFullYear();y.getDate()>15&&(y.setMonth(y.getMonth()+1),y.setDate(1),p=y.toLocaleString("default",{month:"long"}),v=y.getFullYear()),g.querySelector("strong").textContent=`${p} ${v}`;let m=document.querySelector("#Hero .Developer .Magic"),S=document.querySelector("#Hero .Developer .After"),L=document.querySelector("#Hero .Developer .WebDev"),E=!1;m.addEventListener("mousedown",()=>{E=!0,document.body.style.userSelect="none"}),window.addEventListener("mouseup",()=>{E=!1,document.body.style.userSelect=""}),window.addEventListener("mousemove",e=>{if(!E)return;let t=L.getBoundingClientRect(),r=e.clientX-t.left,l=t.width;r<-4&&(r=-4),r>l-8&&(r=l-8);let n=10-r/10;m.style.left=`${r}px`,m.style.top=`${n}px`,S.style.width=`${r}px`});let _=document.querySelectorAll("#Hero .Designer .ColorSets li"),w=document.querySelector("#Hero .Designer h2");_.forEach(e=>{e.addEventListener("click",function(){let e=this.classList.contains("Selected");if(e){this.classList.remove("Selected"),w.classList.forEach(e=>{e.startsWith("Color")&&w.classList.remove(e)});return}w.style.opacity="0.5",setTimeout(()=>{w.classList.forEach(e=>{e.startsWith("Color")&&w.classList.remove(e)}),w.classList.add(...this.classList),w.style.opacity="1"},500),_.forEach(e=>e.classList.remove("Selected")),this.classList.add("Selected")})}),!function e(){let t=document.querySelector("#Services .DEV .Wrapper");if(!t)return;let r=!1;function l(){if(r)return;let e=t.getBoundingClientRect(),n=e.top+e.height/2,i=window.innerHeight/2,o=.5*window.innerHeight;Math.abs(n-i)<o&&(!function e(){let{Engine:t,Render:r,Runner:l,Bodies:n,World:i,Mouse:o,MouseConstraint:s,Composite:a}=Matter,c=document.querySelector("#Services .DEV .Wrapper");if(!c)return;c.style.position="relative";let u=t.create(),d=u.world,h=r.create({element:c,engine:u,options:{width:c.clientWidth,height:c.clientHeight,wireframes:!1,background:"transparent",pixelRatio:window.devicePixelRatio,enabled:!1}});r.run(h);let f=l.create();l.run(f,u),h.canvas.addEventListener("wheel",e=>{e.stopPropagation()},{passive:!0});let g,$,y,p;function v(){let e=c.clientWidth,t=c.clientHeight;g&&i.remove(d,[g,$,y,p]),g=n.rectangle(e/2,t-5,e,10,{isStatic:!0,render:{visible:!1}}),$=n.rectangle(5,t/2,10,t,{isStatic:!0,render:{visible:!1}}),y=n.rectangle(e-5,t/2,10,t,{isStatic:!0,render:{visible:!1}}),p=n.rectangle(e/2,5,e,10,{isStatic:!0,render:{visible:!1}}),i.add(d,[g,$,y,p])}setTimeout(v,50);let m=c.querySelectorAll(".Pill"),S=[];function L(){let e=c.clientWidth,t=c.clientHeight;h.bounds.max.x=e,h.bounds.max.y=t,h.options.width=e,h.options.height=t,h.canvas.width=e,h.canvas.height=t,Matter.Render.setPixelRatio(h,window.devicePixelRatio),v(),function e(){let t=c.clientWidth,r=c.clientHeight;S.forEach(({body:e})=>{Matter.Body.setPosition(e,{x:Math.min(Math.max(e.position.x,20),t-20),y:Math.min(Math.max(e.position.y,20),r-20)})})}()}m.forEach(e=>{let t=e.getBoundingClientRect(),r=c.getBoundingClientRect(),l=t.width,o=t.height,s=n.rectangle(t.left-r.left+t.width/2,t.top-r.top+t.height/2,t.width,t.height,{restitution:.32,friction:.1,density:.02,frictionAir:.02,chamfer:{radius:Math.min(t.width,t.height)/2},render:{visible:!1}});i.add(d,s),S.push({element:e,body:s,initialWidth:l,initialHeight:o})});let E;window.addEventListener("resize",()=>{clearTimeout(E),E=setTimeout(L,200)});let _=o.create(h.canvas),w=s.create(u,{mouse:_,constraint:{stiffness:.2,render:{visible:!1}}});i.add(d,w),h.mouse=_,c.addEventListener("mouseleave",()=>{w.body&&(w.body=null),w.constraint.pointA=null,w.constraint.bodyB=null,w.constraint.pointB=null}),u.enableSleeping=!0;let x=0;(function e(){++x%2==0&&S.forEach(({element:e,body:t,initialWidth:r,initialHeight:l})=>{e.style.position="absolute",e.style.left=`${t.position.x-r/2}px`,e.style.top=`${t.position.y-l/2}px`,e.style.transform=`rotate(${t.angle}rad)`}),requestAnimationFrame(e)})(),_.element.removeEventListener("wheel",_.mousewheel)}(),r=!0,window.removeEventListener("scroll",l))}let n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!r&&(window.addEventListener("scroll",l),l())})},{threshold:.5});n.observe(t)}();let x=document.querySelector(".Music audio"),q=0,b=x.querySelectorAll("source"),C=Array.from(b).map(e=>e.src);function A(){let e=x.querySelectorAll("source");e.forEach((e,t)=>{e.src=t===q?C[t]:""}),x.load()}async function H(){try{await import("../js/jsmediatags.min.js");let e=window.jsmediatags,t=C[q];e.read(t,{onSuccess:function(e){let t=e.tags.picture,r=e.tags.title,l=e.tags.artist;if(t){let n=new Uint8Array(t.data),i="";n.forEach(e=>{i+=String.fromCharCode(e)});let o=window.btoa(i),s="data:"+t.format+";base64,"+o;document.querySelectorAll(".Music .ArtWork img").forEach(e=>{e.src=s})}let a=document.querySelector(".Music strong");a&&(a.textContent=r||"Unknown Title");let c=document.querySelector(".Music p");c&&(c.textContent=l||"Unknown Artist"),function e(){let t=Math.floor(x.duration),r=isNaN(t)?0:t,l=r%60;P.textContent=0===r?"0:00":`-${Math.floor(r/60)}:${l<10?"0"+l:l}`}()},onError:function(e){console.error("⚠️ Error reading Music MetaData:",e)}})}catch(r){console.error("❌ Failed to load jsMediaTags:",r)}}let D=document.querySelector(".Benex.Music .Wrapper .ProgressBar"),M=document.querySelector(".Benex.Music .Wrapper .Current"),P=document.querySelector(".Benex.Music .Wrapper .Duration");x.addEventListener("timeupdate",function(){let e=isNaN(x.currentTime/x.duration*100)?0:x.currentTime/x.duration*100;D.value=e,D.style.setProperty("--value",D.value),D.style.setProperty("--min",D.min||"0"),D.style.setProperty("--max",D.max||"100");let t=Math.floor(x.currentTime),r=Math.floor(x.duration),l=t%60,n=Math.floor(r-t),i=n%60;M.textContent=`${Math.floor(t/60)}:${l<10?"0"+l:l}`,P.textContent=0===n?"0:00":`-${Math.floor(n/60)}:${i<10?"0"+i:i}`}),D.addEventListener("input",function(){let e=D.value/100*x.duration;x.currentTime=e,D.style.setProperty("--value",D.value)});let B=document.querySelector(".Music .Controls .Play"),R=document.querySelector(".Music .Controls .Pause");function k(){x.paused?(B.classList.remove("Hide"),R.classList.add("Hide")):(R.classList.remove("Hide"),B.classList.add("Hide"))}k(),B.addEventListener("click",function(){x.play(),k()}),R.addEventListener("click",function(){x.pause(),k()});let W=document.querySelector(".Music .Controls .Prev"),N=document.querySelector(".Music .Controls .Next");W.addEventListener("click",function(){let e=!x.paused;q=(q-1+C.length)%C.length,A(),H(),e&&x.play(),k()}),N.addEventListener("click",function(){let e=!x.paused;q=(q+1)%C.length,A(),H(),e&&x.play(),k()}),x.addEventListener("ended",function(){q=(q+1)%C.length,A(),H(),x.play(),k()}),A(),H();let T=document.querySelector(".PhotoSlider"),j=T.querySelectorAll(".Photo"),I=document.querySelectorAll(".Nav .Item"),Y=document.querySelector(".Nav .Indicator"),F=0,z=(e,t)=>{j.forEach(e=>{e.classList.remove("visible"),"video"===e.tagName.toLowerCase()&&e.pause()});let r=j[t[e]];r.classList.add("visible"),"video"===r.tagName.toLowerCase()&&r.play()};I.forEach((e,t)=>{e.addEventListener("click",function(){I.forEach(e=>e.classList.remove("Active")),e.classList.add("Active");let t=e.classList[1];U(t);let r=e.getBoundingClientRect(),l=e.parentElement.getBoundingClientRect(),n=r.left-l.left;function i(){let t=e.getBoundingClientRect(),r=e.parentElement.getBoundingClientRect(),l=t.left-r.left;Y.style.width=`${e.clientWidth}px`,Y.style.height=`${e.clientHeight}px`,Y.style.left=`${l}px`}Y.style.width=`${e.clientWidth}px`,Y.style.height=`${e.clientHeight}px`,Y.style.left=`${n}px`,i(),window.addEventListener("resize",i)})});let U=e=>{let t=[];j.forEach((r,l)=>{r.classList.contains(e)&&t.push(l)}),t.length>0&&z(F=0,t)};j.forEach(e=>{e.addEventListener("click",function(){let e=document.querySelector(".Nav .Item.Active")?.classList[1],t=[];j.forEach((r,l)=>{r.classList.contains(e)&&t.push(l)}),z(F=(F+1)%t.length,t)})}),I.length>0&&I[0].click();let V,X=()=>{V=setInterval(()=>{let e=document.querySelector(".Nav .Item.Active")?.classList[1],t=[];j.forEach((r,l)=>{r.classList.contains(e)&&t.push(l)}),z(F=(F+1)%t.length,t)},3200)},O=()=>{clearInterval(V)};X();let G=document.querySelector(".Benex.Photos");G.addEventListener("mouseenter",function(){O()}),G.addEventListener("mouseleave",function(){X()})});